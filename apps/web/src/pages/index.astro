---
import BaseLayout from "../layouts/BaseLayout.astro";
import CommandTabs from "../components/CommandTabs";

const rawBase = import.meta.env.BASE_URL;
const base = rawBase.endsWith("/") ? rawBase : `${rawBase}/`;
const docsHref = `${base}docs/`;
const heroImageHref = `${base}image.png`;
---

<BaseLayout
  title="Vibecanvas - Build with agents on an infinite canvas"
  description="Learn how to install and use Vibecanvas, then dive into the docs."
>
  <div class="shell">
    <header class="topbar">
      <a href={base} class="brand" aria-label="Vibecanvas home">
        <span class="brand-wordmark">VIBECANVAS</span>
      </a>
      <nav class="topnav">
        <a href={docsHref}>Docs</a>
        <a href="https://github.com/vibecanvas/vibecanvas" target="_blank" rel="noreferrer">GitHub</a>
      </nav>
    </header>

    <section class="hero">
      <h1>Put Claude Code in an infinite canvas.</h1>
      <p class="lead">Sketch ideas, talk with Claude, and ship code in one workspace.</p>
      <figure class="hero-gif-frame">
        <img
          src={heroImageHref}
          alt="Vibecanvas product preview"
          width="2000"
          height="967"
          loading="eager"
        />
      </figure>
      <div class="hero-cta">
        <a class="btn btn-primary" href={docsHref}>Read Docs</a>
        <a class="btn btn-ghost" href="https://github.com/vibecanvas/vibecanvas" target="_blank" rel="noreferrer">View Repository</a>
      </div>
    </section>

    <section class="panel">
      <h2>Install Vibecanvas</h2>
      <p>Install with one command.</p>
      <CommandTabs client:load />
    </section>

    <section class="steps-grid">
      <article class="panel">
        <h3>1. Log in to Claude Code</h3>
        <p>Start Claude once, then log in when prompted.</p>
        <pre><code>claude
/login</code></pre>
      </article>
      <article class="panel">
        <h3>2. Launch the app</h3>
        <p>After install, start Vibecanvas from any project folder.</p>
        <pre><code>vibecanvas</code></pre>
      </article>
      <article class="panel">
        <h3>3. Open docs while building</h3>
        <p>Use the docs section for setup, canvas flow, agent usage, and troubleshooting.</p>
        <a class="inline-link" href={docsHref}>Go to /docs</a>
      </article>
    </section>
  </div>
</BaseLayout>
