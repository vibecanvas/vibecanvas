---
import { getCollection } from "astro:content";
import DocsLayout from "../../layouts/DocsLayout.astro";

const rawBase = import.meta.env.BASE_URL;
const base = rawBase.endsWith("/") ? rawBase : `${rawBase}/`;
const docs = (await getCollection("docs")).sort(
  (a, b) => a.data.order - b.data.order,
);
---

<DocsLayout
  title="Vibecanvas Docs"
  description="Guides for installing and using Vibecanvas"
>
  <h1>Documentation</h1>
  <p>
    Start with Getting Started, then follow the workflow guides based on how you use Vibecanvas.
  </p>

  <div class="docs-cards">
    {
      docs.map((entry) => (
        <a class="docs-card" href={`${base}docs/${entry.slug}/`}>
          <h2>{entry.data.title}</h2>
          <p>{entry.data.description}</p>
        </a>
      ))
    }
  </div>
</DocsLayout>
